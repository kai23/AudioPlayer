function volume(e,t){audio.volume=t=="up"?audio.volume+e:audio.volume-e}function playPause(e){if(!audio.paused){$("#pause").attr("id","play");audio.pause()}else{$("div#play").attr("id","pause");$("p#musicName").text(e);var t=convertTime(audio.duration-audio.currentTime);$("#time").text(t);audio.play()}}function stopPlaying(){if($("#pause")){$("#pause").attr("id","play");audio.pause();audio.currentTime=0}else{$("div#play").attr("id","pause");audio.pause();audio.currentTime=0}$("p#musicName").text(" ");$("p#time").text(" ")}function playForward(){audio.currentTime+=20}function playBackward(){audio.currentTime-=20}function convertTime(e){var t=Math.floor(e/60);var n=e-t*60;n=Math.round(n,2);var r=Math.floor(e/3600);e=e-r*3600;if(n<10){n="0"+n}var e=t+"."+n;return e}$(document).ready(function(){var e=document.getElementById("audio");var t=$("#audio source").attr("src");e.volume=localStorage.getItem("volume")||1;$(e).trigger("volumechange");$("#play").click(function(e){playPause(t)});$("#stop").click(function(e){stopPlaying()});$("#right").click(function(e){n;playForward()});$("#left").click(function(e){playBackward()});$("#slider").click(function(t){var n=Math.abs(.8-Math.round(t.offsetY/$(this).height()*10)/10);e.volume=n});$("#loading").click(function(t){var n=$(this).offset().left,r=$(this).offset().top;var i=t.pageX-n;var s=176/e.duration;var o=i/s;e.currentTime=o;$("#progress").css("width",i+"px")});$("#bouton").draggable({containment:"parent",drag:function(t,n){var r=Math.round(n.position.top/$(this).parent().height()*10)/10;r=Math.abs(.8-r);if(n.position.top==40){r=0}e.volume=r}});e.addEventListener("timeupdate",function(){var n=parseInt($("footer#loading").css("width"));var r=(n-4)/e.duration;var i=e.currentTime*r;$("#progress").css("width",i+"px");var s=convertTime(e.duration-e.currentTime);$("#time").text(s);$("p#musicName").text(t)});e.addEventListener("loadedmetadata",function(){var t=convertTime(e.duration);$("#time").text(t)});e.addEventListener("volumechange",function(){var t=parseInt($("#slider").css("height"));var n=Math.abs(t-e.volume*t)-14;$("#bouton").css("top",n+"px");localStorage.setItem("volume",e.volume)});$(document).keydown(function(e){console.log(e.KeyCode);if(e.keyCode==38){volume(.01,"up")}if(e.keyCode==40){volume(.01,"down")}if(e.keyCode==32){playPause(t)}if(e.keyCode==27){stopPlaying()}if(e.keyCode==39){playForward()}if(e.keyCode==37){playBackward()}})})